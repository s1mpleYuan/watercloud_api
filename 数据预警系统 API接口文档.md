# 1.数据预警系统 API接口文档

## 1.1 API 接口说明

+ 接口基准地址：`http://127.0.0.1:8888/`
+ api 服务已开启 CORS 跨域支持。
+ 除登录之外必须使用 Token 认证。
+ 统一响应为 JSON 格式，格式为：

| 参数名 | 参数说明                                   |
| ------ | ------------------------------------------ |
| data   | 数据（后续接口的响应参数）                 |
| code   | Http响应状态码                             |
| msg    | 接口返回的信息，包含成功信息或错误失败信息 |



### 1.1.1. 支持的请求方法

- GET（SELECT）：从服务器取出资源（一项或多项）。
- POST（CREATE）：在服务器新建一个资源。
- PUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。
- PATCH（UPDATE）：在服务器更新资源（客户端提供改变的属性）。
- DELETE（DELETE）：从服务器删除资源。
- HEAD：获取资源的元数据。
- OPTIONS：获取信息，关于资源的哪些属性是客户端可以改变的。

### 1.1.2 接口返回状态说明

| http状态码 | 含义                  | 说明                     |
| ---------- | --------------------- | ------------------------ |
| 200        | OK                    | 请求成功                 |
| 201        | Created               | 创建成功                 |
| 202        | Updated               | 修改成功                 |
| 203        | Deleted               | 删除成功                 |
| 400        | Request Error         | 请求地址不存在或参数错误 |
| 401        | No Authorized         | 未授权（没有Token）      |
| 403        | Forbidden             | 被禁止访问               |
| 404        | Not Found             | 请求的资源不存在         |
| 500        | Internal Server Error | 内部错误                 |

## 1.2 详细接口说明

### 1.2.1 登录

+ 请求路径：`/users/login`
+ 请求方法：**post**
+ 请求参数：

| 参数名   | 参数说明         | 备注     |
| -------- | ---------------- | -------- |
| loginStr | 登录用户名或账号 | 不能为空 |
| password | 密码             | 不能为空 |

+ 响应参数

| 参数名   | 参数说明       | 备注                                 |
| -------- | -------------- | ------------------------------------ |
| username | 用户的账户名   |                                      |
| account  | 用户的账号     |                                      |
| code     | 账户所属的企业 | MySQL数据库中的字段为enterprise_code |

+ 响应数据

```json
{
    "data": {
        "username": "admin01",
        "account": "110011",
        "code": "0000"
    },
    "code": 200,
    "msg": "登录成功"
}
```

